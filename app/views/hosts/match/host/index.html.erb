<% render 'hosts/match/host/sidebar' %>
<% content_for :breadcrumbs do %>
    <li><%= link_to 'Dashboard', dashboard_path %></li>
    <li><%= link_to 'Hosts',hosts_path %></li>
    <li><%= link_to 'Host matching', host_matching_path %></li>
    <li class="active">Select host</li>
<% end %>
<h2>Select host</h2>
<%= form_tag '', method: :get do |f| %>
    <div class="form-group">
      <%= text_field_tag :search, params[:search], {placeholder: 'Who are you looking for?', class: 'form-control'} %>
    </div>

    <div class="form-group">
      <%= submit_tag 'Search', class: 'btn btn-primary' %>
    </div>
<% end %>
<table id="hosts" class="table" style="table-layout: fixed;">
  <tr>
    <th>Name</th>
    <th>Gender preference</th>
    <th>Student</th>
    <th>Has animals</th>
    <th>Sleeping arrangements</th>
    <th>Extra day</th>
    <th>Available spaces</th>
    <th>Hosted before</th>
    <th>Comment</th>
    <th>Show details</th>
  </tr>

  <% @hosts.each do |a| %>
      <tr>
        <td><%= link_to a.firstname + ' ' + a.lastname, {:controller => 'participants',:action => 'apply_match', :host_id => a.id, :participant_id => @participant.id} , {:method => :put, :confirm => "Do you want to match the current participant with this host?"} %></td>
        <td><%= gender_pref_to_friendly(a.sex) %></td>
        <td><%= bool_to_friendly(a.isstudent) %></td>
        <td><%= bool_to_friendly(a.animales) %></td>
        <td><%= sleeping_to_friendly(a.sleeping) %></td>
        <td><%= bool_to_friendly(a.extraday) %></td>
        <td><%= a.get_free_beds %></td>
        <td><%= bool_to_friendly(a.beenhost) %></td>
        <td style="word-wrap: break-word;"><%= a.comments %></td>
        <td><%= link_to 'Details', a %></td>
      </tr>
  <% end %>
</table>

<%= will_paginate(@hosts, renderer: BootstrapPagination::Rails) %>
