<h1>Listing all participants</h1>
<script>
$(document).ready(function (){  
  jQuery.ajaxSetup({  
  'beforeSend': function (xhr) {xhr.setRequestHeader("Accept", "text/javascript")}  
});  
$('.search').submit(function (){  
    //$.get($(this).attr('action'), $(this).serialize(), null, "script");
    $.get($(this).attr('action'), $(this).serialize(), null, "script");
    return false;  
  });
  $('.search').keyup(function (){
    setTimeout(function() { $('.search').submit(); }, 500);
  });

}); 
</script>
<% content_for :sidebar_left do %>
<% form_for :participant, @search_participant, :url => { :action => "index" },
:html => {:method => "get", :class => "search"} do |f| %>
  <table>
    <tr>
      <tr><td><b>First name: </b></td></tr><tr><td><%= f.text_field :first_name %></td></tr>
    <tr><td><b>Last name: </b></td></tr><tr><td><%= f.text_field :last_name %></td></tr>
    <tr><td><b>E-mail address: </b></td></tr><tr><td><%= f.text_field :email %></td></tr>
    <tr><td><b>Workshop: </b></td></tr><tr><td><%= f.text_field :workshop %></td></tr>
  </table>
  <br />
  <%= submit_tag 'Search' %><br>
  <% end %>
<% end %>

<div id="index_table">
  <%= render :partial => "participants" %>
</div>
